parameters:
- name: resourceTemplateName
  default: ''
- name: product
  type: object
  default:
    - name: group
      default: ''
    - name: name
      default: ''
    - name: uri
      default: ''
    - name: slackNotificationChannel
      default: ''
    - name: slackEnvironment
      default: ''
    - name: artifactBaseName
      default: ''
- name: sonarQube
  type: object
  default:
    - name: projectKey
      default: ''
    - name: minTestCoverage
      type: number
      default: 80
    - name: maxIssues
      type: number
      default: 0
    - name: maxTestFail
      type: number
      default: 0
    - name: maxTechDebt
      type: number
      default: 5.0
    - name: foo
      default: 'asdfklajdfa;kldfasl'
- name: automatedAcceptanceTests
  type: object
  default:
    - name: assemblyName
      default: ''
    - name: artifactBaseName
      default: ''
- name: azure
  type: object
  default:
    - name: subscription
      default: ''
    - name: appName
      default: ''
    - name: resourceGroupName
      default: ''
    - name: resourceSlotName
      default: ''
- name: keyRotation
  type: object
  default:
    - name: resourceSlotName
      default: ''

steps:
  - task: PowerShell@2
    displayName: 'Show variables'
    inputs:
      targetType: 'inline'
      script: |
        Write-Host '=============================================================================='
        Write-Host 'Parameters passed to az-fx-release-v1 template'
        Write-Host ''
        Write-Host 'resourceTemplateName: ${{ parameters.resourceTemplateName }}'
        Write-Host 'product:'
        Write-Host '  group: ${{ parameters.product.group }}'
        Write-Host '  name: ${{ parameters.product.name }}'
        Write-Host '  uri: ${{ parameters.product.uri }}'
        Write-Host '  slackNotificationChannel: ${{ parameters.product.slackNotificationChannel }}'
        Write-Host '  slackNotificationChannel: ${{ parameters.product.slackEnvironment }}'        
        Write-Host '  artifactBaseName: ${{ parameters.product.artifactBaseName }}'
        Write-Host 'automatedAcceptanceTests:'
        Write-Host '  name: ${{ parameters.automatedAcceptanceTests.assemblyName }}'
        Write-Host '  artifactBaseName: ${{ parameters.automatedAcceptanceTests.artifactBaseName }}'
        Write-Host 'azure:'
        Write-Host '  subscription: ${{ parameters.azure.subscription }}'
        Write-Host '  appName: ${{ parameters.azure.appName }}'
        Write-Host '  resourceGroupName: ${{ parameters.azure.resourceGroupName }}'
        Write-Host '  resourceSlotName: ${{ parameters.azure.resourceSlotName }}'
        Write-Host 'keyRotation:'
        Write-Host '  resourceSlotName: ${{ parameters.keyRotation.resourceSlotName }}'
        Write-Host 'sonarQube:'
        Write-Host '  projectKey: ${{ parameters.sonarQube.projectKey }}'
        Write-Host '  minTestCoverage: ${{ parameters.sonarQube.minTestCoverage }}'
        Write-Host '  maxIssues: ${{ parameters.sonarQube.maxIssues }}'
        Write-Host '  maxTestFail: ${{ parameters.sonarQube.maxTestFail }}'
        Write-Host '  maxTechDebt: ${{ parameters.sonarQube.maxTechDebt }}'
        Write-Host '  foo: ${{ parameters.sonarQube.foo }}'
        Write-Host ''
        Write-Host '=============================================================================='
